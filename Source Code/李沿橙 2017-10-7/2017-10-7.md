# 讲题

T1
70分做法：直接建树
层数是log级别的

暴力找LCA
跟倍增跳法一样

编号小的肯定不是父亲，所以直接跳就可以了。O（log n）。
依次写下兔子们的标号和他们的父亲：
1 1 1 2 1 2 3 1 2 3 4 5
最近的斐波那契数列
f(i - 1) + j，父亲是j，显然有j < f(i - 1)，所以可以倒推：
f(i) < x <= f(i + 1)

T2
将兔子按照（颜色，位置）进行双关键字排序。
操作1只需要在数组上二分查找
操作2不会改变同种颜色兔子的相对位置，因此只需要找到被交换的兔子改掉坐标即可。

或者动态开点线段树

或者主席树
修改时交换两棵主席树

分块做法
分成根号n段，每一段保存和
空间复杂度O(n n / s) 时间复杂度O(1)
中间的直接查，两边的直接暴力
综合时间复杂度和空间复杂度$O(n \sqrt n)$

T3
记录最小的转移位置
枚举完全平方数，看是否出现过x^2 - a[i]

可以二分最远距离
用并查集

---

# 二分

分类：二分查找，二分答案

三分法

应用：最大值最小，最小值最大；最靠近某个值；最小的能满足条件的代价

Eg NOIP 2011 聪明的质检员

任意两条树链的交集一定是一条树链，或者为空
同时，如果有交，树链的交集的短线一定在
s1,s2,t1,t2,LCA(s1,s2), LCA(s1, t2), LCA(s2, t1), LCA(s2, t2)之中取得

